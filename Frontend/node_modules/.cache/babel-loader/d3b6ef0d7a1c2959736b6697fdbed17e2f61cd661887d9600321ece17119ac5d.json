{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\divya\\\\Downloads\\\\Movie Booking Frontend\\\\Frontend\\\\src\\\\components\\\\Payment\\\\PaymentModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentModal = ({\n  isOpen,\n  setIsOpen,\n  price\n}) => {\n  _s();\n  const [notice, setNotice] = useState('');\n  if (!isOpen) return null;\n  const launch = () => {\n    const key = process.env.REACT_APP_RAZORPAY_KEY || '';\n    if (!key) {\n      setNotice('Add REACT_APP_RAZORPAY_KEY to your .env file to enable payments. Get a free test key at razorpay.com/dashboard');\n      return;\n    }\n    if (!window.Razorpay) {\n      setNotice('Razorpay SDK not loaded. Add the script tag in public/index.html.');\n      return;\n    }\n    setNotice('');\n    const origOnError = window.onerror;\n    window.onerror = msg => {\n      if (typeof msg === 'string' && msg.toLowerCase().includes('script error')) return true;\n      return origOnError ? origOnError(msg) : false;\n    };\n    try {\n      const rzp = new window.Razorpay({\n        key,\n        amount: price * 100,\n        currency: 'INR',\n        name: 'BookMyShow Clone',\n        description: 'Movie Streaming',\n        handler: () => {\n          window.onerror = origOnError;\n          setIsOpen(false);\n          setNotice('');\n        },\n        modal: {\n          ondismiss: () => {\n            window.onerror = origOnError;\n          },\n          escape: true\n        },\n        theme: {\n          color: '#e51937'\n        }\n      });\n      rzp.open();\n    } catch (e) {\n      window.onerror = origOnError;\n      setNotice('Payment failed to launch. Please check your Razorpay key.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-[300] flex items-center justify-center animate-fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black/80\",\n      style: {\n        backdropFilter: 'blur(8px)'\n      },\n      onClick: () => {\n        setIsOpen(false);\n        setNotice('');\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 rounded-2xl p-7 w-full max-w-sm mx-4 animate-scale-in\",\n      style: {\n        background: '#14152b',\n        border: '1px solid rgba(255,255,255,0.08)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-0 left-1/2 -translate-x-1/2 w-48 h-px\",\n        style: {\n          background: 'linear-gradient(to right, transparent, #e51937, transparent)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-white font-black text-xl mb-1\",\n        children: \"Complete Payment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 text-sm mb-5\",\n        children: \"Securely powered by Razorpay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), notice && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-xl px-4 py-3 mb-4 text-xs leading-relaxed animate-fade-in\",\n        style: {\n          background: 'rgba(234,179,8,0.1)',\n          border: '1px solid rgba(234,179,8,0.25)',\n          color: '#fbbf24'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold mb-0.5\",\n          children: \"Setup Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#d1a820'\n          },\n          children: notice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-5 rounded-2xl mb-6\",\n        style: {\n          background: 'rgba(229,25,55,0.08)',\n          border: '1px solid rgba(229,25,55,0.15)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-xs mb-1\",\n          children: \"Amount to Pay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white font-black text-4xl\",\n          children: [\"\\u20B9 \", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: launch,\n          className: \"flex-1 btn-red text-white py-3.5 rounded-xl font-bold text-sm\",\n          children: [\"Pay \\u20B9 \", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsOpen(false);\n            setNotice('');\n          },\n          className: \"flex-1 text-gray-400 hover:text-white py-3.5 rounded-xl font-semibold text-sm transition-colors\",\n          style: {\n            background: 'rgba(255,255,255,0.05)',\n            border: '1px solid rgba(255,255,255,0.08)'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentModal, \"xqtdl+yNNxeXxUrsDepu+K34MK8=\");\n_c = PaymentModal;\nexport default PaymentModal;\nvar _c;\n$RefreshReg$(_c, \"PaymentModal\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","PaymentModal","isOpen","setIsOpen","price","_s","notice","setNotice","launch","key","process","env","REACT_APP_RAZORPAY_KEY","window","Razorpay","origOnError","onerror","msg","toLowerCase","includes","rzp","amount","currency","name","description","handler","modal","ondismiss","escape","theme","color","open","e","className","children","style","backdropFilter","onClick","fileName","_jsxFileName","lineNumber","columnNumber","background","border","_c","$RefreshReg$"],"sources":["C:/Users/divya/Downloads/Movie Booking Frontend/Frontend/src/components/Payment/PaymentModal.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst PaymentModal = ({ isOpen, setIsOpen, price }) => {\n  const [notice, setNotice] = useState('');\n\n  if (!isOpen) return null;\n\n  const launch = () => {\n    const key = process.env.REACT_APP_RAZORPAY_KEY || '';\n\n    if (!key) {\n      setNotice('Add REACT_APP_RAZORPAY_KEY to your .env file to enable payments. Get a free test key at razorpay.com/dashboard');\n      return;\n    }\n    if (!window.Razorpay) {\n      setNotice('Razorpay SDK not loaded. Add the script tag in public/index.html.');\n      return;\n    }\n\n    setNotice('');\n    const origOnError = window.onerror;\n    window.onerror = (msg) => {\n      if (typeof msg === 'string' && msg.toLowerCase().includes('script error')) return true;\n      return origOnError ? origOnError(msg) : false;\n    };\n\n    try {\n      const rzp = new window.Razorpay({\n        key,\n        amount: price * 100,\n        currency: 'INR',\n        name: 'BookMyShow Clone',\n        description: 'Movie Streaming',\n        handler: () => {\n          window.onerror = origOnError;\n          setIsOpen(false);\n          setNotice('');\n        },\n        modal: { ondismiss: () => { window.onerror = origOnError; }, escape: true },\n        theme: { color: '#e51937' },\n      });\n      rzp.open();\n    } catch (e) {\n      window.onerror = origOnError;\n      setNotice('Payment failed to launch. Please check your Razorpay key.');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-[300] flex items-center justify-center animate-fade-in\">\n      <div className=\"absolute inset-0 bg-black/80\" style={{ backdropFilter: 'blur(8px)' }}\n        onClick={() => { setIsOpen(false); setNotice(''); }} />\n\n      <div className=\"relative z-10 rounded-2xl p-7 w-full max-w-sm mx-4 animate-scale-in\"\n        style={{ background: '#14152b', border: '1px solid rgba(255,255,255,0.08)' }}>\n\n        <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-48 h-px\"\n          style={{ background: 'linear-gradient(to right, transparent, #e51937, transparent)' }} />\n\n        <h3 className=\"text-white font-black text-xl mb-1\">Complete Payment</h3>\n        <p className=\"text-gray-500 text-sm mb-5\">Securely powered by Razorpay</p>\n\n        {/* Inline notice â€” replaces browser alert */}\n        {notice && (\n          <div className=\"rounded-xl px-4 py-3 mb-4 text-xs leading-relaxed animate-fade-in\"\n            style={{ background: 'rgba(234,179,8,0.1)', border: '1px solid rgba(234,179,8,0.25)', color: '#fbbf24' }}>\n            <p className=\"font-bold mb-0.5\">Setup Required</p>\n            <p style={{ color: '#d1a820' }}>{notice}</p>\n          </div>\n        )}\n\n        <div className=\"text-center py-5 rounded-2xl mb-6\"\n          style={{ background: 'rgba(229,25,55,0.08)', border: '1px solid rgba(229,25,55,0.15)' }}>\n          <p className=\"text-gray-500 text-xs mb-1\">Amount to Pay</p>\n          <p className=\"text-white font-black text-4xl\">&#8377; {price}</p>\n        </div>\n\n        <div className=\"flex gap-3\">\n          <button onClick={launch}\n            className=\"flex-1 btn-red text-white py-3.5 rounded-xl font-bold text-sm\">\n            Pay &#8377; {price}\n          </button>\n          <button onClick={() => { setIsOpen(false); setNotice(''); }}\n            className=\"flex-1 text-gray-400 hover:text-white py-3.5 rounded-xl font-semibold text-sm transition-colors\"\n            style={{ background: 'rgba(255,255,255,0.05)', border: '1px solid rgba(255,255,255,0.08)' }}>\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}