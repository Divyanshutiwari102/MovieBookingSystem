{"ast":null,"code":"import _objectSpread from\"C:/Users/divya/Downloads/Movie Booking Frontend/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useContext}from'react';import{useParams}from'react-router-dom';import Slider from'react-slick';import{MovieLayoutHoc}from'../layout/DefaultLayout';import{MovieContext}from'../context/MovieContext';import MovieHero from'../components/MovieHero/MovieHero';import Cast from'../components/Cast/Cast';import PosterSlider from'../components/PosterSlider/PosterSlider';import SeatPicker from'../components/SeatPicker/SeatPicker';import Footer from'../components/Footer/Footer';import Loader from'../components/Loader/Loader';import{movieAPI,showAPI,tmdbAPI}from'../services/api';import{DEMO_MOVIES}from'../services/demoData';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CAST_SETTINGS={arrows:true,infinite:true,slidesToShow:5,slidesToScroll:1,autoplay:true,speed:3000,autoplaySpeed:0,cssEase:'linear',pauseOnHover:true,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:640,settings:{slidesToShow:2}}]};const ALL_CITIES=['Mumbai','Delhi','Bangalore','Hyderabad','Chennai','Kolkata','Pune','Ahmedabad','Jaipur','Lucknow'];const fmtTime=dt=>{try{return new Date(dt).toLocaleTimeString('en-IN',{hour:'2-digit',minute:'2-digit'});}catch(_unused){return dt;}};const SectionTitle=_ref=>{let{children}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-6 rounded-full\",style:{background:'#e51937'}}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-xl font-bold\",children:children})]});};const MoviePage=_ref2=>{let{onSignInClick}=_ref2;const{id}=useParams();const{setMovie,movie}=useContext(MovieContext);const[allShows,setAllShows]=useState([]);// all shows regardless of city\nconst[shows,setShows]=useState([]);// filtered by city\nconst[cast,setCast]=useState([]);const[similar,setSimilar]=useState([]);const[loading,setLoading]=useState(true);const[showsLoading,setShowsLoading]=useState(false);const[selectedShow,setSelectedShow]=useState(null);const[selectedCity,setSelectedCity]=useState(localStorage.getItem('bms_city')!=='Select City'?localStorage.getItem('bms_city')||'':'');// ── Load movie + cast + similar ──────────────────────────────\nuseEffect(()=>{window.scrollTo(0,0);setLoading(true);const load=async()=>{// Movie data\ntry{const res=await movieAPI.getById(id);setMovie(res.data);}catch(_unused2){try{var _r$data$original_lang,_r$data$genres;const r=await tmdbAPI.getById(id);setMovie({id:r.data.id,title:r.data.title,description:r.data.overview,language:(_r$data$original_lang=r.data.original_language)===null||_r$data$original_lang===void 0?void 0:_r$data$original_lang.toUpperCase(),genre:(_r$data$genres=r.data.genres)===null||_r$data$genres===void 0?void 0:_r$data$genres.map(g=>g.name).join(', '),durationMins:r.data.runtime,posterUrl:r.data.poster_path});}catch(_unused3){const demo=DEMO_MOVIES.find(m=>String(m.id)===String(id));if(demo)setMovie(demo);}}// Cast + similar\ntry{var _cR$value$data$cast,_sR$value$data$result;const[cR,sR]=await Promise.allSettled([tmdbAPI.credits(id),tmdbAPI.similar(id)]);if(cR.status==='fulfilled')setCast(((_cR$value$data$cast=cR.value.data.cast)===null||_cR$value$data$cast===void 0?void 0:_cR$value$data$cast.slice(0,20))||[]);if(sR.status==='fulfilled')setSimilar(((_sR$value$data$result=sR.value.data.results)===null||_sR$value$data$result===void 0?void 0:_sR$value$data$result.map(m=>_objectSpread(_objectSpread({},m),{},{title:m.title||m.original_title})))||[]);}catch(_unused4){}setLoading(false);};load();},[id,setMovie]);// ── Load ALL shows once ───────────────────────────────────────\nuseEffect(()=>{const fetchShows=async()=>{setShowsLoading(true);try{const r=await showAPI.getByMovie(id);setAllShows(r.data||[]);}catch(_unused5){setAllShows([]);}finally{setShowsLoading(false);}};fetchShows();},[id]);// ── Filter shows by selectedCity ──────────────────────────────\nuseEffect(()=>{if(!selectedCity){setShows(allShows);return;}// Client-side filter (instant, no extra API call)\nconst filtered=allShows.filter(s=>{var _s$screen,_s$screen$theater,_s$screen$theater$cit;return((_s$screen=s.screen)===null||_s$screen===void 0?void 0:(_s$screen$theater=_s$screen.theater)===null||_s$screen$theater===void 0?void 0:(_s$screen$theater$cit=_s$screen$theater.city)===null||_s$screen$theater$cit===void 0?void 0:_s$screen$theater$cit.toLowerCase())===selectedCity.toLowerCase();});// If nothing matches client-side and backend supports city endpoint, try API\nif(filtered.length===0&&allShows.length>0){// All shows loaded but none for this city — show empty\nsetShows([]);}else if(filtered.length===0&&allShows.length===0){// Try backend city endpoint\nshowAPI.getByMovieCity(id,selectedCity).then(r=>setShows(r.data||[])).catch(()=>setShows([]));}else{setShows(filtered);}},[selectedCity,allShows,id]);const handleCitySelect=city=>{setSelectedCity(city===selectedCity?'':city);localStorage.setItem('bms_city',city===selectedCity?'Select City':city);};if(loading)return/*#__PURE__*/_jsx(Loader,{});// Group shows by theater name\nconst showsByTheater=shows.reduce((acc,s)=>{var _s$screen2,_s$screen2$theater;const t=((_s$screen2=s.screen)===null||_s$screen2===void 0?void 0:(_s$screen2$theater=_s$screen2.theater)===null||_s$screen2$theater===void 0?void 0:_s$screen2$theater.name)||'Theater';(acc[t]=acc[t]||[]).push(s);return acc;},{});// All cities present in loaded shows (for smart city chips)\nconst availableCities=[...new Set(allShows.map(s=>{var _s$screen3,_s$screen3$theater;return(_s$screen3=s.screen)===null||_s$screen3===void 0?void 0:(_s$screen3$theater=_s$screen3.theater)===null||_s$screen3$theater===void 0?void 0:_s$screen3$theater.city;}).filter(Boolean))];return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#0d0e1a',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(MovieHero,{}),selectedShow&&/*#__PURE__*/_jsx(SeatPicker,{show:selectedShow,onClose:()=>setSelectedShow(null),onSignInClick:onSignInClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"container px-4 lg:px-16 max-w-screen-xl mx-auto py-12\",children:[movie.description&&/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12 animate-fade-up\",children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"About the Movie\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm leading-7 max-w-3xl\",children:movie.description})]}),/*#__PURE__*/_jsx(\"hr\",{style:{borderColor:'rgba(255,255,255,0.05)',marginBottom:'3rem'}}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12 animate-fade-up\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between flex-wrap gap-4 mb-6\",children:/*#__PURE__*/_jsx(SectionTitle,{children:\"Book Tickets\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs mb-3 font-medium uppercase tracking-wider\",children:\"Filter by City\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedCity('');localStorage.setItem('bms_city','Select City');},className:\"px-4 py-2 rounded-xl text-xs font-bold transition-all\",style:!selectedCity?{background:'#e51937',color:'#fff',boxShadow:'0 2px 12px rgba(229,25,55,0.35)'}:{background:'rgba(255,255,255,0.04)',color:'#6b7280',border:'1px solid rgba(255,255,255,0.08)'},children:\"All Cities\"}),(availableCities.length>0?availableCities:ALL_CITIES).map(city=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCitySelect(city),className:\"px-4 py-2 rounded-xl text-xs font-bold transition-all\",style:selectedCity===city?{background:'#e51937',color:'#fff',boxShadow:'0 2px 12px rgba(229,25,55,0.35)'}:{background:'rgba(255,255,255,0.04)',color:'#9ca3af',border:'1px solid rgba(255,255,255,0.08)'},children:[city,availableCities.includes(city)&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-1.5 w-1.5 h-1.5 rounded-full inline-block align-middle\",style:{background:'#4ade80'}})]},city))]})]}),showsLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 py-8 text-gray-600\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8v8z\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Loading showtimes...\"})]}),!showsLoading&&allShows.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10 rounded-2xl\",style:{background:'#14152b',border:'1px solid rgba(255,255,255,0.05)'},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"No shows scheduled for this movie yet.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-xs mt-1\",children:\"Run the SQL shows INSERT or check your backend.\"})]}),!showsLoading&&allShows.length>0&&shows.length===0&&selectedCity&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10 rounded-2xl\",style:{background:'#14152b',border:'1px solid rgba(255,255,255,0.05)'},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm font-semibold mb-1\",children:[\"No shows in \",selectedCity]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-xs\",children:[\"Try a different city or view\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCity(''),className:\"text-red-400 underline\",children:\"all cities\"}),\".\"]})]}),!showsLoading&&Object.entries(showsByTheater).map(_ref3=>{var _theaterShows$,_theaterShows$$screen,_theaterShows$$screen2,_theaterShows$2,_theaterShows$2$scree,_theaterShows$2$scree2;let[theaterName,theaterShows]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 rounded-2xl p-5\",style:{background:'#14152b',border:'1px solid rgba(255,255,255,0.05)'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-bold mb-0.5 text-sm\",children:theaterName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-xs mb-4\",children:[(_theaterShows$=theaterShows[0])===null||_theaterShows$===void 0?void 0:(_theaterShows$$screen=_theaterShows$.screen)===null||_theaterShows$$screen===void 0?void 0:(_theaterShows$$screen2=_theaterShows$$screen.theater)===null||_theaterShows$$screen2===void 0?void 0:_theaterShows$$screen2.address,(_theaterShows$2=theaterShows[0])!==null&&_theaterShows$2!==void 0&&(_theaterShows$2$scree=_theaterShows$2.screen)!==null&&_theaterShows$2$scree!==void 0&&(_theaterShows$2$scree2=_theaterShows$2$scree.theater)!==null&&_theaterShows$2$scree2!==void 0&&_theaterShows$2$scree2.city?\" \\xB7 \".concat(theaterShows[0].screen.theater.city):'']}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-3\",children:theaterShows.map(show=>{var _show$screen;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedShow(show),className:\"px-5 py-2.5 rounded-xl text-sm font-semibold transition-all hover:scale-105\",style:{border:'1.5px solid rgba(34,197,94,0.4)',color:'#4ade80',background:'rgba(34,197,94,0.08)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:fmtTime(show.startTime)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs opacity-60 mt-0.5\",children:(_show$screen=show.screen)===null||_show$screen===void 0?void 0:_show$screen.name})]},show.id);})})]},theaterName);})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12 animate-fade-up\",children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"Applicable Offers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[{title:'Visa Stream Offer',desc:'Get 50% off up to ₹150 on all RuPay cards on BookMyShow Stream.',accent:'#3b82f6'},{title:'Film Pass',desc:'Get 50% off up to ₹150 on all RuPay cards on BookMyShow Stream.',accent:'#a855f7'}].map((offer,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 p-4 rounded-2xl\",style:{background:'#14152b',border:\"1px dashed \".concat(offer.accent,\"40\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-xl shrink-0 flex items-center justify-center font-bold text-white text-xs\",style:{background:\"\".concat(offer.accent,\"22\"),color:offer.accent,border:\"1px solid \".concat(offer.accent,\"30\")},children:\"OFFER\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-sm font-bold mb-1\",children:offer.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs leading-relaxed\",children:offer.desc})]})]},i))})]}),/*#__PURE__*/_jsx(\"hr\",{style:{borderColor:'rgba(255,255,255,0.05)',marginBottom:'3rem'}}),cast.length>0&&/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12 animate-fade-up\",children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"Cast & Crew\"}),/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},CAST_SETTINGS),{},{children:cast.map(c=>/*#__PURE__*/_jsx(Cast,{image:c.profile_path,castName:c.original_name,role:c.character},c.id))}))]}),similar.length>0&&/*#__PURE__*/_jsx(\"section\",{className:\"animate-fade-up\",children:/*#__PURE__*/_jsx(PosterSlider,{title:\"Similar Movies\",posters:similar})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default MovieLayoutHoc(MoviePage);","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","Slider","MovieLayoutHoc","MovieContext","MovieHero","Cast","PosterSlider","SeatPicker","Footer","Loader","movieAPI","showAPI","tmdbAPI","DEMO_MOVIES","jsx","_jsx","jsxs","_jsxs","CAST_SETTINGS","arrows","infinite","slidesToShow","slidesToScroll","autoplay","speed","autoplaySpeed","cssEase","pauseOnHover","responsive","breakpoint","settings","ALL_CITIES","fmtTime","dt","Date","toLocaleTimeString","hour","minute","_unused","SectionTitle","_ref","children","className","style","background","MoviePage","_ref2","onSignInClick","id","setMovie","movie","allShows","setAllShows","shows","setShows","cast","setCast","similar","setSimilar","loading","setLoading","showsLoading","setShowsLoading","selectedShow","setSelectedShow","selectedCity","setSelectedCity","localStorage","getItem","window","scrollTo","load","res","getById","data","_unused2","_r$data$original_lang","_r$data$genres","r","title","description","overview","language","original_language","toUpperCase","genre","genres","map","g","name","join","durationMins","runtime","posterUrl","poster_path","_unused3","demo","find","m","String","_cR$value$data$cast","_sR$value$data$result","cR","sR","Promise","allSettled","credits","status","value","slice","results","_objectSpread","original_title","_unused4","fetchShows","getByMovie","_unused5","filtered","filter","s","_s$screen","_s$screen$theater","_s$screen$theater$cit","screen","theater","city","toLowerCase","length","getByMovieCity","then","catch","handleCitySelect","setItem","showsByTheater","reduce","acc","_s$screen2","_s$screen2$theater","t","push","availableCities","Set","_s$screen3","_s$screen3$theater","Boolean","minHeight","show","onClose","borderColor","marginBottom","onClick","color","boxShadow","border","includes","fill","viewBox","cx","cy","stroke","strokeWidth","d","Object","entries","_ref3","_theaterShows$","_theaterShows$$screen","_theaterShows$$screen2","_theaterShows$2","_theaterShows$2$scree","_theaterShows$2$scree2","theaterName","theaterShows","address","concat","_show$screen","startTime","desc","accent","offer","i","c","image","profile_path","castName","original_name","role","character","posters"],"sources":["C:/Users/divya/Downloads/Movie Booking Frontend/Frontend/src/pages/MoviePage.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Slider from 'react-slick';\nimport { MovieLayoutHoc } from '../layout/DefaultLayout';\nimport { MovieContext } from '../context/MovieContext';\nimport MovieHero from '../components/MovieHero/MovieHero';\nimport Cast from '../components/Cast/Cast';\nimport PosterSlider from '../components/PosterSlider/PosterSlider';\nimport SeatPicker from '../components/SeatPicker/SeatPicker';\nimport Footer from '../components/Footer/Footer';\nimport Loader from '../components/Loader/Loader';\nimport { movieAPI, showAPI, tmdbAPI } from '../services/api';\nimport { DEMO_MOVIES } from '../services/demoData';\n\nconst CAST_SETTINGS = {\n  arrows: true, infinite: true, slidesToShow: 5, slidesToScroll: 1,\n  autoplay: true, speed: 3000, autoplaySpeed: 0, cssEase: 'linear', pauseOnHover: true,\n  responsive: [{ breakpoint: 1024, settings: { slidesToShow: 3 } }, { breakpoint: 640, settings: { slidesToShow: 2 } }],\n};\n\nconst ALL_CITIES = ['Mumbai', 'Delhi', 'Bangalore', 'Hyderabad', 'Chennai', 'Kolkata', 'Pune', 'Ahmedabad', 'Jaipur', 'Lucknow'];\n\nconst fmtTime = dt => { try { return new Date(dt).toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' }); } catch { return dt; } };\n\nconst SectionTitle = ({ children }) => (\n  <div className=\"flex items-center gap-3 mb-5\">\n    <div className=\"w-1 h-6 rounded-full\" style={{ background: '#e51937' }} />\n    <h2 className=\"text-white text-xl font-bold\">{children}</h2>\n  </div>\n);\n\nconst MoviePage = ({ onSignInClick }) => {\n  const { id } = useParams();\n  const { setMovie, movie } = useContext(MovieContext);\n\n  const [allShows,       setAllShows]       = useState([]);   // all shows regardless of city\n  const [shows,          setShows]          = useState([]);   // filtered by city\n  const [cast,           setCast]           = useState([]);\n  const [similar,        setSimilar]        = useState([]);\n  const [loading,        setLoading]        = useState(true);\n  const [showsLoading,   setShowsLoading]   = useState(false);\n  const [selectedShow,   setSelectedShow]   = useState(null);\n  const [selectedCity,   setSelectedCity]   = useState(\n    localStorage.getItem('bms_city') !== 'Select City'\n      ? (localStorage.getItem('bms_city') || '')\n      : ''\n  );\n\n  // ── Load movie + cast + similar ──────────────────────────────\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    setLoading(true);\n    const load = async () => {\n      // Movie data\n      try {\n        const res = await movieAPI.getById(id);\n        setMovie(res.data);\n      } catch {\n        try {\n          const r = await tmdbAPI.getById(id);\n          setMovie({\n            id: r.data.id, title: r.data.title,\n            description: r.data.overview,\n            language: r.data.original_language?.toUpperCase(),\n            genre: r.data.genres?.map(g => g.name).join(', '),\n            durationMins: r.data.runtime,\n            posterUrl: r.data.poster_path,\n          });\n        } catch {\n          const demo = DEMO_MOVIES.find(m => String(m.id) === String(id));\n          if (demo) setMovie(demo);\n        }\n      }\n      // Cast + similar\n      try {\n        const [cR, sR] = await Promise.allSettled([tmdbAPI.credits(id), tmdbAPI.similar(id)]);\n        if (cR.status === 'fulfilled') setCast(cR.value.data.cast?.slice(0, 20) || []);\n        if (sR.status === 'fulfilled') setSimilar(sR.value.data.results?.map(m => ({ ...m, title: m.title || m.original_title })) || []);\n      } catch {}\n      setLoading(false);\n    };\n    load();\n  }, [id, setMovie]);\n\n  // ── Load ALL shows once ───────────────────────────────────────\n  useEffect(() => {\n    const fetchShows = async () => {\n      setShowsLoading(true);\n      try {\n        const r = await showAPI.getByMovie(id);\n        setAllShows(r.data || []);\n      } catch {\n        setAllShows([]);\n      } finally {\n        setShowsLoading(false);\n      }\n    };\n    fetchShows();\n  }, [id]);\n\n  // ── Filter shows by selectedCity ──────────────────────────────\n  useEffect(() => {\n    if (!selectedCity) {\n      setShows(allShows);\n      return;\n    }\n    // Client-side filter (instant, no extra API call)\n    const filtered = allShows.filter(\n      s => s.screen?.theater?.city?.toLowerCase() === selectedCity.toLowerCase()\n    );\n\n    // If nothing matches client-side and backend supports city endpoint, try API\n    if (filtered.length === 0 && allShows.length > 0) {\n      // All shows loaded but none for this city — show empty\n      setShows([]);\n    } else if (filtered.length === 0 && allShows.length === 0) {\n      // Try backend city endpoint\n      showAPI.getByMovieCity(id, selectedCity)\n        .then(r => setShows(r.data || []))\n        .catch(() => setShows([]));\n    } else {\n      setShows(filtered);\n    }\n  }, [selectedCity, allShows, id]);\n\n  const handleCitySelect = (city) => {\n    setSelectedCity(city === selectedCity ? '' : city);\n    localStorage.setItem('bms_city', city === selectedCity ? 'Select City' : city);\n  };\n\n  if (loading) return <Loader />;\n\n  // Group shows by theater name\n  const showsByTheater = shows.reduce((acc, s) => {\n    const t = s.screen?.theater?.name || 'Theater';\n    (acc[t] = acc[t] || []).push(s);\n    return acc;\n  }, {});\n\n  // All cities present in loaded shows (for smart city chips)\n  const availableCities = [...new Set(allShows.map(s => s.screen?.theater?.city).filter(Boolean))];\n\n  return (\n    <div style={{ background: '#0d0e1a', minHeight: '100vh' }}>\n      <MovieHero />\n\n      {selectedShow && (\n        <SeatPicker show={selectedShow} onClose={() => setSelectedShow(null)} onSignInClick={onSignInClick} />\n      )}\n\n      <div className=\"container px-4 lg:px-16 max-w-screen-xl mx-auto py-12\">\n\n        {/* About */}\n        {movie.description && (\n          <section className=\"mb-12 animate-fade-up\">\n            <SectionTitle>About the Movie</SectionTitle>\n            <p className=\"text-gray-400 text-sm leading-7 max-w-3xl\">{movie.description}</p>\n          </section>\n        )}\n\n        <hr style={{ borderColor: 'rgba(255,255,255,0.05)', marginBottom: '3rem' }} />\n\n        {/* Book Tickets */}\n        <section className=\"mb-12 animate-fade-up\">\n          <div className=\"flex items-start justify-between flex-wrap gap-4 mb-6\">\n            <SectionTitle>Book Tickets</SectionTitle>\n          </div>\n\n          {/* ── City Filter ─────────────────────────────────── */}\n          <div className=\"mb-6\">\n            <p className=\"text-gray-600 text-xs mb-3 font-medium uppercase tracking-wider\">Filter by City</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {/* \"All Cities\" chip */}\n              <button\n                onClick={() => { setSelectedCity(''); localStorage.setItem('bms_city', 'Select City'); }}\n                className=\"px-4 py-2 rounded-xl text-xs font-bold transition-all\"\n                style={!selectedCity\n                  ? { background: '#e51937', color: '#fff', boxShadow: '0 2px 12px rgba(229,25,55,0.35)' }\n                  : { background: 'rgba(255,255,255,0.04)', color: '#6b7280', border: '1px solid rgba(255,255,255,0.08)' }\n                }\n              >\n                All Cities\n              </button>\n\n              {/* Show only cities that have shows, fallback to ALL_CITIES */}\n              {(availableCities.length > 0 ? availableCities : ALL_CITIES).map(city => (\n                <button\n                  key={city}\n                  onClick={() => handleCitySelect(city)}\n                  className=\"px-4 py-2 rounded-xl text-xs font-bold transition-all\"\n                  style={selectedCity === city\n                    ? { background: '#e51937', color: '#fff', boxShadow: '0 2px 12px rgba(229,25,55,0.35)' }\n                    : { background: 'rgba(255,255,255,0.04)', color: '#9ca3af', border: '1px solid rgba(255,255,255,0.08)' }\n                  }\n                >\n                  {city}\n                  {availableCities.includes(city) && (\n                    <span className=\"ml-1.5 w-1.5 h-1.5 rounded-full inline-block align-middle\"\n                      style={{ background: '#4ade80' }} />\n                  )}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Shows loading */}\n          {showsLoading && (\n            <div className=\"flex items-center gap-3 py-8 text-gray-600\">\n              <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"/>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8z\"/>\n              </svg>\n              <span className=\"text-sm\">Loading showtimes...</span>\n            </div>\n          )}\n\n          {/* No shows */}\n          {!showsLoading && allShows.length === 0 && (\n            <div className=\"text-center py-10 rounded-2xl\"\n              style={{ background: '#14152b', border: '1px solid rgba(255,255,255,0.05)' }}>\n              <p className=\"text-gray-600 text-sm\">No shows scheduled for this movie yet.</p>\n              <p className=\"text-gray-700 text-xs mt-1\">\n                Run the SQL shows INSERT or check your backend.\n              </p>\n            </div>\n          )}\n\n          {/* No shows for selected city */}\n          {!showsLoading && allShows.length > 0 && shows.length === 0 && selectedCity && (\n            <div className=\"text-center py-10 rounded-2xl\"\n              style={{ background: '#14152b', border: '1px solid rgba(255,255,255,0.05)' }}>\n              <p className=\"text-gray-400 text-sm font-semibold mb-1\">No shows in {selectedCity}</p>\n              <p className=\"text-gray-600 text-xs\">\n                Try a different city or view{' '}\n                <button onClick={() => setSelectedCity('')} className=\"text-red-400 underline\">all cities</button>.\n              </p>\n            </div>\n          )}\n\n          {/* Theater cards */}\n          {!showsLoading && Object.entries(showsByTheater).map(([theaterName, theaterShows]) => (\n            <div key={theaterName} className=\"mb-4 rounded-2xl p-5\"\n              style={{ background: '#14152b', border: '1px solid rgba(255,255,255,0.05)' }}>\n              <h3 className=\"text-white font-bold mb-0.5 text-sm\">{theaterName}</h3>\n              <p className=\"text-gray-600 text-xs mb-4\">\n                {theaterShows[0]?.screen?.theater?.address}\n                {theaterShows[0]?.screen?.theater?.city ? ` · ${theaterShows[0].screen.theater.city}` : ''}\n              </p>\n              <div className=\"flex flex-wrap gap-3\">\n                {theaterShows.map(show => (\n                  <button key={show.id} onClick={() => setSelectedShow(show)}\n                    className=\"px-5 py-2.5 rounded-xl text-sm font-semibold transition-all hover:scale-105\"\n                    style={{ border: '1.5px solid rgba(34,197,94,0.4)', color: '#4ade80', background: 'rgba(34,197,94,0.08)' }}>\n                    <div className=\"font-bold\">{fmtTime(show.startTime)}</div>\n                    <div className=\"text-xs opacity-60 mt-0.5\">{show.screen?.name}</div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          ))}\n        </section>\n\n        {/* Offers */}\n        <section className=\"mb-12 animate-fade-up\">\n          <SectionTitle>Applicable Offers</SectionTitle>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {[\n              { title: 'Visa Stream Offer', desc: 'Get 50% off up to ₹150 on all RuPay cards on BookMyShow Stream.', accent: '#3b82f6' },\n              { title: 'Film Pass',          desc: 'Get 50% off up to ₹150 on all RuPay cards on BookMyShow Stream.', accent: '#a855f7' },\n            ].map((offer, i) => (\n              <div key={i} className=\"flex gap-4 p-4 rounded-2xl\"\n                style={{ background: '#14152b', border: `1px dashed ${offer.accent}40` }}>\n                <div className=\"w-10 h-10 rounded-xl shrink-0 flex items-center justify-center font-bold text-white text-xs\"\n                  style={{ background: `${offer.accent}22`, color: offer.accent, border: `1px solid ${offer.accent}30` }}>\n                  OFFER\n                </div>\n                <div>\n                  <p className=\"text-white text-sm font-bold mb-1\">{offer.title}</p>\n                  <p className=\"text-gray-500 text-xs leading-relaxed\">{offer.desc}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </section>\n\n        <hr style={{ borderColor: 'rgba(255,255,255,0.05)', marginBottom: '3rem' }} />\n\n        {/* Cast */}\n        {cast.length > 0 && (\n          <section className=\"mb-12 animate-fade-up\">\n            <SectionTitle>Cast &amp; Crew</SectionTitle>\n            <Slider {...CAST_SETTINGS}>\n              {cast.map(c => <Cast key={c.id} image={c.profile_path} castName={c.original_name} role={c.character} />)}\n            </Slider>\n          </section>\n        )}\n\n        {/* Similar */}\n        {similar.length > 0 && (\n          <section className=\"animate-fade-up\">\n            <PosterSlider title=\"Similar Movies\" posters={similar} />\n          </section>\n        )}\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default MovieLayoutHoc(MoviePage);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}